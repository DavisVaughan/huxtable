
TODO

* testing for rowspan, colspan
* label (for latex only?)
* make NAs be invisible (right?)... or allow some default?
* think about how to set column formatting...
* remove dependencies on tibble
* heights - set per row!
* escaping cell contents:
   - encoded_text_to_latex in tools may be helpful
* padding, margin
* cell font color; maybe also italic, bold; font-family
* horiz align including on dec pt and for sig stars
* sig figs and arbitrary formatC args
* rotation
* more advanced positioning (floats?)
* as_huxtable.ftable
* "themes" i.e. standard setups for kinds of tables
* easy syntax to alter cells by row, column, area or "where"... this could be a separate package:
  - columns should allow name1:name2 style syntax, maybe also starts_with & friends
  - row names?
  - row & column groups
  - where(): could return a function that is called in place:
    do_something(ht, cells = where(x > 6))
  would become
    if (is.function(cells)) cells <- cells(ht)
  which then returns the relevant values, probably as a 2-column matrix (unusual form of indexing)


BUGS
* latex table width don't work
* colored background not there on second row of multirow
* vertical borders not visible on second row of multirow

QUESTIONS
what to do about column names? what if we want multiple rows of column headings?
maybe make it an option
do we want to have a concept of 'headers' for repetition?


# notes on latex tables
=======================

* Font color: use xcolor package
* Cell color: use colortbl package
* Rotation: use rotating
* Merged cells: multirow
* Horiz lines for partic cells: \cline{2-3} is for cells 2-3, after the relevant row
* Vertical lines for partic cells: do e.g.
\multicolumn{1}{xx|} before a line, where x is the horiz alignment (lcr)
or
\multicolumn{1}{|x|} for lines before and after

* valign for particular cells seems hard; really easiest at table level
* \midrule and \cmidrule are 'formal' compared to hline and cline
* for aligning at decimal points, use dcolumn package
* to turn text wrapping on, always use p,m and b for col specifications

Useful guides:
  http://www.andy-roberts.net/writing/latex/tables


tabular is the basic environment; package 'array' extends it, allowing top/middle/bottom valigned text;

\usepackage{array} at the start, how will this work with e.g. knitr? can we
just put it before the table?

Here's a basic table with vlines (in the colspec) and hlines between the rows:

\begin{tabular}{ l | c || r | }
\hline
1 & 2 & 3 \\
4 & 5 & 6 \\
7 & 8 & 9 \\
\hline
\end{tabular}

to center the table itself surround it by \begin{center} and \end{center}
NB: hux should have an option for where to put the whole table, obv!
also \begin{tabular*} allows you specify width of whole table! (but this is getting
complex...)

For colspan, the cell shd be
\multicolumn{num_cols}{alignment}{contents}
align is l, c or r
and you should suppress the non-existent cells and their &s

For rowspan:
The first thing you need to do is add \usepackage{multirow} to the preamble. This then provides the command needed for spanning rows: \multirow{num_rows}{width}{contents}. he arguments are pretty simple to deduce. With the width parameter, you can specify a fixed with if you wish, or, if you want the natural width (i.e., just wide enough to fit the contents of the column) then simply input an asterisk (*).

For both:
\multicolumn{3}{alignment}{\multirow{2}*{CONTENTS}}

You can also use \begin{table} which can have captions etc.:
See https://www.latex-tutorial.com/tutorials/beginners/latex-tables/
and it mentions booktabs

